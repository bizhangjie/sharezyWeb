import{d as h,s as y,r as x,a as o,o as k,b as C,f as a,w as r,e as d,j as P,h as R,y as _,_ as q}from"./index-c17d8447.js";const B={class:"register-page"},N={class:"register-header"},U=h({__name:"Register",setup(V){const u=y(),s=x({username:"",password:"",confirmPassword:""}),i=async c=>{try{const e=await R.post("/auth/register",{username:s.value.username,password:s.value.password});_.success("注册成功🥳"),u.push("/login")}catch(e){console.error("表单验证失败",e),_.error("注册失败，请检查用户名和密码")}},m=()=>{u.push("/login")},f=(c,e,n)=>{e!==s.value.password?n(new Error("两次输入的密码不一致")):n()};return(c,e)=>{const n=o("a-page-header"),v=o("a-input"),l=o("a-form-item"),p=o("a-input-password"),w=o("a-button"),g=o("a-form"),b=o("a-card");return k(),C("div",B,[a(b,{class:"register-card"},{default:r(()=>[d("div",N,[a(n,{"back-icon":!1,title:"用户注册"})]),a(g,{model:s.value,name:"basic","label-col":{span:6},"wrapper-col":{span:18},onFinish:i},{default:r(()=>[a(l,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入用户名"}]},{default:r(()=>[a(v,{value:s.value.username,"onUpdate:value":e[0]||(e[0]=t=>s.value.username=t)},null,8,["value"])]),_:1}),a(l,{label:"密码",name:"password",rules:[{required:!0,message:"请输入密码"}]},{default:r(()=>[a(p,{value:s.value.password,"onUpdate:value":e[1]||(e[1]=t=>s.value.password=t)},null,8,["value"])]),_:1}),a(l,{label:"确认密码",name:"confirmPassword",rules:[{required:!0,message:"请确认密码"},{validator:f}]},{default:r(()=>[a(p,{value:s.value.confirmPassword,"onUpdate:value":e[2]||(e[2]=t=>s.value.confirmPassword=t)},null,8,["value"])]),_:1},8,["rules"]),a(l,{"wrapper-col":{offset:6,span:18}},{default:r(()=>[a(w,{type:"primary","html-type":"submit"},{default:r(()=>[P("注册")]),_:1}),d("a",{class:"login-link",onClick:m},"已有账号？点击登录")]),_:1})]),_:1},8,["model"])]),_:1})])}}});const j=q(U,[["__scopeId","data-v-c80a9bc9"]]);export{j as default};
