import{_ as A,r as _,s as J,k as M,h as y,y as r,a as s,o as v,b as h,i as R,l as k,e as c,f as e,w as l,F as w,j as i,g as T,t as C}from"./index-c17d8447.js";const G={key:1,class:"profile-page"},K={class:"profile-left"},O={class:"profile-right"},P={class:"permission-info"},Q={class:"permission-label"},W={__name:"Info",setup(X){const a=_({username:"exampleUser",avatar_url:"",fullname:"John Doe",email:"johndoe@example.com",phone:"1234567890",gender:"male",age:25,hobbies:["reading"],occupation:"Software Engineer",bio:"ÊàëÊòØ‰∏Ä‰∏™ÂÖÖÊª°Â•ΩÂ•áÂøÉÁöÑ‰∫∫„ÄÇ",permission:"ÊôÆÈÄöÁî®Êà∑"}),m=_(!1),f=_("http://127.0.0.1:5173/#/playground"),D=["ÈòÖËØª","ËøêÂä®","Èü≥‰πê","ÊóÖË°å","ÁæéÈ£ü","ÁîµÂΩ±","ÊëÑÂΩ±","ÁªòÁîª","ÊâãÂ∑•Ëâ∫"],b=_([...a.value.hobbies]),F=n=>{a.value.hobbies=n},q=()=>{a.value&&y.post("/users/updateUser",a.value).then(n=>{n.status===200?r.success("‰∏™‰∫∫‰ø°ÊÅØÂ∑≤‰øùÂ≠òü•≥"):r.error("‰øùÂ≠òÂ§±Ë¥•ÔºåËØ∑ÈáçËØï, ÂèØËÉΩÊòØÁà±Â•Ω‰Ω†Ê≤°Êúâ‰øÆÊîπ")}).catch(n=>{console.error("‰øùÂ≠òÂ§±Ë¥•ÔºåËØ∑ÈáçËØï, ÂèØËÉΩÊòØÁà±Â•Ω‰Ω†Ê≤°Êúâ‰øÆÊîπ",n),r.error("‰øùÂ≠òÂ§±Ë¥•ÔºåËØ∑ÈáçËØï")})},B=async n=>{try{const t=new FormData;t.append("file",n);const p=await y.post("/users/uploadAvatar",t);p.status===200?(f.value=p.data.avatar_url,r.success("Â§¥ÂÉè‰∏ä‰º†ÊàêÂäüü•≥")):r.error("Â§¥ÂÉè‰∏ä‰º†Â§±Ë¥•ÔºåËØ∑ÈáçËØï")}catch(t){console.error("Â§¥ÂÉè‰∏ä‰º†Â§±Ë¥•",t),r.error("Â§¥ÂÉè‰∏ä‰º†Â§±Ë¥•ÔºåËØ∑ÈáçËØï")}return!1},I=J();return M(async()=>{try{const n=await y.get("/users/info");n.status===200?(a.value=n.data.data,b.value=a.value.hobbies.split(","),f.value=a.value.avatar_url||"/static/default-avatar.png"):r.error("Ëé∑ÂèñÁî®Êà∑Êï∞ÊçÆÂ§±Ë¥•"),m.value=!0}catch(n){n.response&&(n.response.data.status==401?(r.error(n.response.data.message),I.push("/login")):r.error("Ëé∑ÂèñÁî®Êà∑Êï∞ÊçÆÂ§±Ë¥•"))}}),(n,t)=>{const p=s("a-spin"),d=s("a-input"),u=s("a-form-item"),N=s("a-avatar"),g=s("a-button"),V=s("a-upload"),U=s("a-radio"),j=s("a-radio-group"),z=s("a-input-number"),E=s("a-select-option"),H=s("a-select"),L=s("a-textarea"),S=s("a-form"),x=s("a-card");return v(),h(w,null,[m.value?k("",!0):(v(),R(p,{key:0,size:"large",class:"loading-container"})),m.value?(v(),h("div",G,[c("div",K,[e(x,{title:"‰∏™‰∫∫‰ø°ÊÅØ"},{default:l(()=>[e(S,null,{default:l(()=>[e(u,{label:"Áî®Êà∑Âêç",name:"username",rules:"required"},{default:l(()=>[e(d,{value:a.value.username,"onUpdate:value":t[0]||(t[0]=o=>a.value.username=o),disabled:""},null,8,["value"])]),_:1}),e(u,{label:"Â§¥ÂÉè"},{default:l(()=>[e(V,{action:"","before-upload":B,"show-upload-list":!1},{default:l(()=>[e(N,{src:f.value,size:64},null,8,["src"]),e(g,{slot:"trigger"},{default:l(()=>[i("‰∏ä‰º†Â§¥ÂÉè")]),_:1})]),_:1})]),_:1}),e(u,{label:"ÂßìÂêç",name:"fullname",rules:"required"},{default:l(()=>[e(d,{value:a.value.fullname,"onUpdate:value":t[1]||(t[1]=o=>a.value.fullname=o)},null,8,["value"])]),_:1}),e(u,{label:"ÈÇÆÁÆ±",name:"email",rules:"required|email"},{default:l(()=>[e(d,{value:a.value.email,"onUpdate:value":t[2]||(t[2]=o=>a.value.email=o)},null,8,["value"])]),_:1}),e(u,{label:"ÊâãÊú∫Âè∑",name:"phone",rules:"required"},{default:l(()=>[e(d,{value:a.value.phone,"onUpdate:value":t[3]||(t[3]=o=>a.value.phone=o)},null,8,["value"])]),_:1}),e(u,{label:"ÊÄßÂà´",name:"gender"},{default:l(()=>[e(j,{value:a.value.gender,"onUpdate:value":t[4]||(t[4]=o=>a.value.gender=o)},{default:l(()=>[e(U,{value:"male"},{default:l(()=>[i("Áî∑")]),_:1}),e(U,{value:"female"},{default:l(()=>[i("Â•≥")]),_:1})]),_:1},8,["value"])]),_:1}),e(u,{label:"Âπ¥ÈæÑ",name:"age"},{default:l(()=>[e(z,{value:a.value.age,"onUpdate:value":t[5]||(t[5]=o=>a.value.age=o)},null,8,["value"])]),_:1}),e(u,{label:"Áà±Â•Ω",name:"hobbies"},{default:l(()=>[e(H,{value:b.value,"onUpdate:value":t[6]||(t[6]=o=>b.value=o),mode:"tags",onChange:F},{default:l(()=>[(v(),h(w,null,T(D,o=>e(E,{key:o},{default:l(()=>[i(C(o),1)]),_:2},1024)),64))]),_:1},8,["value"])]),_:1}),e(u,{label:"ËÅå‰∏ö",name:"occupation"},{default:l(()=>[e(d,{value:a.value.occupation,"onUpdate:value":t[7]||(t[7]=o=>a.value.occupation=o)},null,8,["value"])]),_:1}),e(u,{label:"ÁÆÄ‰ªã",name:"bio"},{default:l(()=>[e(L,{value:a.value.bio,"onUpdate:value":t[8]||(t[8]=o=>a.value.bio=o)},null,8,["value"])]),_:1}),e(u,null,{default:l(()=>[e(g,{type:"primary",onClick:q},{default:l(()=>[i("‰øùÂ≠ò")]),_:1})]),_:1})]),_:1})]),_:1})]),c("div",O,[e(x,{title:"ÊùÉÈôê‰ø°ÊÅØ"},{default:l(()=>[e(u,{label:"Áî®Êà∑ÊùÉÈôê"},{default:l(()=>[c("div",P,[c("span",Q,C(a.value.permission),1),e(g,{class:"upgrade-button",type:"primary",onclick:"onFinish"},{default:l(()=>[i("ÂçáÁ∫ß")]),_:1})])]),_:1})]),_:1})])])):k("",!0)],64)}}},Z=A(W,[["__scopeId","data-v-8538564c"]]);export{Z as default};
