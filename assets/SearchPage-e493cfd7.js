import{d as C,r as c,c as B,a as s,o as u,b as i,e as l,f as t,w as n,t as v,F as E,g as P,h as z,_ as F}from"./index-c17d8447.js";const N={class:"search-page"},V={class:"search-content"},D=["href"],L=C({__name:"SearchPage",setup(R){const e=c(""),_=c(),p=c([]),f=()=>{e.value=""},r=c(!1),d=c(""),m=async()=>{d.value="请稍等！已在全力搜索了🐛",r.value=!0;try{const o=await z.get(`/search?kw=${e.value}&pageSize=10`);_.value=o.data.data,r.value=!1,e.value.trim()!==""&&p.value.unshift(e.value.trim())}catch(o){console.error("Error fetching search results:",o)}},g=B(()=>!e.value);return(o,h)=>{const y=s("a-input-search"),x=s("a-card"),k=s("a-list"),S=s("a-spin"),I=s("a-collapse-panel"),b=s("a-collapse");return u(),i("div",N,[l("div",V,[t(y,{value:e.value,"onUpdate:value":h[0]||(h[0]=a=>e.value=a),placeholder:"在网上搜索",onSearch:m,"suffix-icon":g.value?"close-circle":"",onSuffixClick:f,class:"search-input"},null,8,["value","suffix-icon"]),t(S,{spinning:r.value,tip:d.value},{default:n(()=>[t(k,{class:"search-results","item-layout":"vertical","data-source":_.value,bordered:"",split:"",size:"large"},{renderItem:n(({item:a})=>[t(x,{class:"result-card",title:a.title},{extra:n(()=>[l("a",{href:a.href,target:"_blank"},"查看详情",8,D)]),default:n(()=>[l("p",null,v(a.body),1)]),_:2},1032,["title"])]),_:1},8,["data-source"])]),_:1},8,["spinning","tip"])]),t(b,{accordion:"",class:"history-panel"},{default:n(()=>[t(I,{key:"history",header:"历史记录"},{default:n(()=>[l("ul",null,[(u(!0),i(E,null,P(p.value,(a,w)=>(u(),i("li",{key:w},v(a),1))),128))])]),_:1})]),_:1})])}}});const $=F(L,[["__scopeId","data-v-855c9e27"]]);export{$ as default};
