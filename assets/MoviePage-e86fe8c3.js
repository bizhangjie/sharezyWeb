import{d as b,r as c,s as z,a as n,o as A,b as u,f as a,l as R,e as i,F as k,g as S,i as K,w as l,t as I,j as d,_ as M,T as P,y as E,h as D}from"./index-c17d8447.js";const F={key:0,class:"loading-container"},H={class:"movie-list"},L={class:"movie-content"},T={class:"movie-info"},Z={class:"movie-title"},x={class:"tags"},G={key:1},q=b({__name:"MovieList",props:{movies:Array},setup(N){const y=()=>{const o=["pink","red","orange","green","blue","purple"],t=Math.floor(Math.random()*o.length);return o[t]},v=(o,t)=>o.length<=t?o:o.substr(0,t)+"...",B=o=>o.replace("/voddetail/","").replace(".","-1-1."),p=c(!1),_=z(),r=o=>{_.push(`/movieKey/${o}`)};return(o,t)=>{const J=n("a-empty"),h=n("a-image"),f=n("a-tag"),g=n("a-tooltip"),e=n("a-button"),m=n("a-card");return A(),u(k,null,[N.movies.length==0?(A(),u("div",F,[a(J)])):R("",!0),i("div",H,[(A(!0),u(k,null,S(N.movies,s=>(A(),K(m,{class:"movie-card",key:s.id},{default:l(()=>[i("div",L,[a(h,{width:120,src:s.poster,fit:"cover",alt:s.title,fallback:"data:image/png;base64,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"},null,8,["src","alt"]),i("div",T,[i("h2",Z,I(v(s.title,18)),1),i("div",x,[(A(!0),u(k,null,S(s.tags,Q=>(A(),K(f,{key:Q,color:y()},{default:l(()=>[d(I(Q),1)]),_:2},1032,["color"]))),128))]),i("p",{class:"description",onMouseover:t[0]||(t[0]=Q=>p.value=!0),onMouseleave:t[1]||(t[1]=Q=>p.value=!1)},[p.value?(A(),K(g,{key:0,title:s.description},{default:l(()=>[d(I(s.description),1)]),_:2},1032,["title"])):(A(),u("span",G,I(v(s.description,50)),1))],32),a(e,{type:"primary",onClick:Q=>r(B(s.id))},{default:l(()=>[d("查看详情")]),_:2},1032,["onClick"])])])]),_:2},1024))),128))])],64)}}});const X=M(q,[["__scopeId","data-v-7b8bc797"]]),W={class:"page-title"},V={class:"search-container"},O={class:"search-input-container"},$={key:0,class:"pagination-container"},ee=b({__name:"MoviePage",setup(N){const y=c([]),v=c(!1),B=c(1),p=c(0),_=c(!1),r=c(""),o=c("remote"),t=c(y.value),J=async g=>{if(!_.value){console.log(`页码从 ${B.value} 切换到 ${g}`),_.value=!0;try{await h(g)}finally{_.value=!1}}},h=async(g=1)=>{if(console.log("测试 searchMode => "+o.value),!r.value){E.error("请输入搜索关键字");return}try{if(o.value==="local")t.value=y.value.filter(e=>e.title.includes(r.value));else if(o.value==="remote")try{v.value=!0;const e=await D.get(`/spider/videos/7xi/search?kw=${r.value}&page=${g}`);e.status===200?e.data.data.data==""?E.error("未找到相关内容，换一个搜索源试试🥳"):(t.value=e.data.data.data,p.value=e.data.data.total*10,E.success(`搜索${r.value}成功🥳`)):(E.error("未登录,请先登录"),console.log("Response status is not 200. User may not be logged in.")),v.value=!1}catch(e){e.response?(e.response.status==403&&E.error("您没有访问权限！"),e.response.status==401&&E.error("未登录, 请先登录！")):E.error("未知错误！等待🤖处理")}else console.log("remote2 ====> 暂未开发！"),E.success("remote2 ====> 暂未开发！")}catch(e){console.error("Error performing search:",e)}},f=()=>{B.value=1};return(g,e)=>{const m=n("a-select-option"),s=n("a-select"),Q=n("a-input"),U=n("a-button"),w=n("a-back-top"),Y=n("a-pagination"),j=n("a-spin");return A(),u("div",null,[i("h1",W,"影视列表 🥳 "+I(r.value),1),a(j,{spinning:v.value},{default:l(()=>[i("div",V,[i("div",O,[a(s,{value:o.value,"onUpdate:value":e[0]||(e[0]=C=>o.value=C),class:"search-mode"},{default:l(()=>[a(m,{value:"local"},{default:l(()=>[d("当前数据中搜索")]),_:1}),a(m,{value:"remote"},{default:l(()=>[d("全网搜索")]),_:1}),a(m,{value:"remote2"},{default:l(()=>[d("全网搜索2")]),_:1})]),_:1},8,["value"]),a(Q,{value:r.value,"onUpdate:value":e[1]||(e[1]=C=>r.value=C),class:"search-input",placeholder:"请输入搜索关键字",onInput:f,onKeydown:P(h,["enter"])},null,8,["value","onKeydown"]),a(U,{class:"search-button",type:"primary",onClick:h},{default:l(()=>[d("搜索")]),_:1})])]),a(X,{movies:t.value},null,8,["movies"]),a(w),t.value.length!=0?(A(),u("div",$,[a(Y,{current:B.value,"onUpdate:current":e[2]||(e[2]=C=>B.value=C),total:p.value,onChange:J,disabled:_.value,"show-size-changer":g.total>50},null,8,["current","total","disabled","show-size-changer"])])):R("",!0)]),_:1},8,["spinning"])])}}});const te=M(ee,[["__scopeId","data-v-9a46b714"]]);export{te as default};
